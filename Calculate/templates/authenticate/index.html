{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mess Fee Calculator</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/js/toastr.min.js"></script>
    

    <style>
        body {
            background-color: #f8f9fa;
            font-family: Arial, sans-serif;
        }
        .jumbotron {
            position: relative;
            padding: 0;
            margin: 50px auto;
            overflow: hidden;
            border-radius: 10px;
        }

        .jumbotron img {
            width: 100%;
            height: auto;
            object-fit: cover;
            transform: scale(1.1);
        }
        .glass-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            color: white;
            background-color: rgba(123, 123, 12, 0.3); /* Adjust opacity as needed */
            backdrop-filter: blur(0.01em); /* Adjust blur intensity */
            border-radius: 10px;
            display: flex;
            flex-direction: column; /* Adjusted to column for better alignment */
            justify-content: center;
            align-items: center; /* Adjusted to center align items */
        }
        .navbar-brand {
            font-size: 24px;
            font-weight: bold;
            color: #007bff !important;
        }
        .navbar-nav .nav-item .nav-link {
            color: #007bff !important;
        }
        .btn-login {
            background-color: #28a745;
            border-color: #28a745;
        }
        .btn-signup {
            margin: 10px;
            background-color: #ffc107;
            border-color: #ffc107;
        }
 
        /* Adjusting login form styles */
        .login-form {
            width: 300px; /* Adjust form width as needed */
            padding: 20px; /* Adjust padding as needed */
            background-color: rgba(255, 255, 255, 0.8); /* Adjust opacity as needed */
            border-radius: 10px;
        }

        /* Adjusting login form input fields */
        .login-form input[type="text"],
        .login-form input[type="password"] {
            width: 100%;
            margin-bottom: 10px; /* Adjust margin as needed */
        }
        .text-background {
          background-color: rgba(255, 255, 255, 0.5); /* Adjust opacity as needed */
          padding: 5em;
          border-radius: 10px;
          color:black;
          margin: 10px;
      }
      
    </style>
</head>
<body>

<header>
    <nav class="navbar navbar-expand-lg navbar-light bg-light shadow">
      <img src="{% static 'images\Logo.jpg' %}" alt="Logo" width="65rem">
        <p class="text-center m-0 mr-auto text-xxl">
            <span style="font-size:30px;" class="font-weight-bold">Aamees</span>
            <span class="text-sm"><sub>The taste of Kakkanad</sub></span>
        </p>
       
    </nav>
</header>

<main>
    <div class="container">
      
      <div class="jumbotron">
        <img src="{% static 'images/food2.jpg' %}" alt="Background" class="img-fluid">
        <div class="glass-overlay">
          <div class="text-background">
            <h2>Welcome to the Mess Fee Calculator!</h2>
            <p class="lead">Calculate your mess fees easily and efficiently.</p>
            <p>To get started, login or sign up.</p>
            <div class="card rounded">
              <div class="card-body">
                  <h1 class="text-center mb-4">Login</h1>
                  <form method="POST" action="{% url 'calculate:login' %}">
                      {% csrf_token %}
                      <div class="form-group">
                          {{ login_form.username.label_tag }}
                          {{ login_form.username }}
                      </div>
                      <div class="form-group">
                          {{ login_form.password.label_tag }}
                          {{ login_form.password }}

                          {% if login_form.errors.password %}
                          
                            <small class="text-danger">{{ login_form.errors.password }}</small>

                          {% endif %}
                      </div>
                      <button type="submit" class="btn btn-primary btn-block">Login</button>
                  </form>

                  <script>
                    {% if login_form.errors.password %}

                      $(document).ready(function() {
                        toastr.error("Incorrect password. Please try again.");
                      });

                    {% endif %}

                  </script>

                  <div class="mt-3 text-center">
                      <a href="{% url 'calculate:signup' %}">Don't have an account? Sign up</a>
                  </div>
              </div>
          </div>
          
        </div>
          
          {% comment %} <div class="login-form text-dark"> {% endcomment %}
            {% comment %} </div> {% endcomment %}
      </div>
    </div>
  </main>

</body>
</html>
